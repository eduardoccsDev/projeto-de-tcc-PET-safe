import{_ as x,r as h,o as l,c as r,a as e,F as U,q as k,h as m,n as V,e as u,t as b,b as w,w as n,v as _,i as C,p as S,j as I}from"./index-06d56936.js";const o=c=>(S("data-v-9b9546b3"),c=c(),I(),c),A={class:"container"},D=o(()=>e("section",{class:"page__title"},[e("h1",null,"Usuários cadastrados")],-1)),q=o(()=>e("hr",null,null,-1)),P={class:"page__content"},z={class:"accordion",id:"accordionExample"},$=["id"],B=["data-bs-target","aria-controls"],M=o(()=>e("i",{class:"fa-solid fa-user"},null,-1)),N=["id","aria-labelledby"],F={class:"accordion-body"},R=["onSubmit"],T=o(()=>e("label",{for:"nomeuser"},"Nome:",-1)),j=["disabled","onUpdate:modelValue"],L=o(()=>e("label",{for:"emailuser"},"E-mail:",-1)),G=["disabled","onUpdate:modelValue"],H=o(()=>e("label",{for:"addressuser"},"Endereço:",-1)),J=["disabled","onUpdate:modelValue"],K=o(()=>e("label",{for:"cepuser"},"CEP:",-1)),O=["disabled","onUpdate:modelValue"],Q=o(()=>e("label",{for:"residenciauser"},"Residência:",-1)),W=["disabled","onUpdate:modelValue"],X=o(()=>e("option",{selected:"",disabled:"",value:""}," Selecione o tipo de residência ",-1)),Y=o(()=>e("option",{value:"Casa"},"Casa",-1)),Z=o(()=>e("option",{value:"Apartamento"},"Apartamento",-1)),ee=[X,Y,Z],se={class:"btnContainer"},oe=o(()=>e("i",{class:"fa-solid fa-pen-to-square"},null,-1)),ae={key:1,type:"submit",class:"btn__save"},te=o(()=>e("i",{class:"fa-solid fa-floppy-disk"},null,-1)),ie=["onClick"],de=o(()=>e("i",{class:"fa-solid fa-trash"},null,-1)),le={__name:"AdminPage",setup(c){const v=h({}),p=h(null),i=h(!1),f=async()=>{try{const a=await m.get("https://prickly-robe-eel.cyclic.cloud/users");p.value=a.data,p.value.forEach(d=>{v.value[d.idusers]={...d}})}catch(a){console.error("Erro na solicitação Axios:",a)}};function y(){i.value=!i.value}const g=async a=>{try{(await m.delete(`https://prickly-robe-eel.cyclic.cloud/remover-user/${a.idusers}`)).status===200?window.location.reload():console.error("Erro ao remover a conta do usuário")}catch(d){console.error("Erro ao remover a conta do usuário:",d)}},E=async a=>{if(i.value){const d={nomeuser:a.nomeuser,emailuser:a.emailuser,addressuser:a.addressuser,residenciauser:a.residenciauser,cepuser:a.cepuser};try{(await m.post(`https://prickly-robe-eel.cyclic.cloud/atualizar-usuario/${a.idusers}`,d)).status===200?i.value=!1:console.error("Erro ao atualizar as informações do usuário")}catch(s){console.error("Erro ao atualizar as informações do usuário:",s)}}};return f(),(a,d)=>(l(),r("div",A,[D,q,e("section",P,[e("div",z,[(l(!0),r(U,null,k(p.value,s=>(l(),r("div",{class:V("accordion-item id-"+s.idusers),key:s.idusers},[e("h2",{class:"accordion-header",id:s.idusers},[e("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#id-"+s.idusers,"aria-expanded":"false","aria-controls":"id-"+s.idusers},[M,u(" "+b(s.nomeuser),1)],8,B)],8,$),e("div",{id:"id-"+s.idusers,class:"accordion-collapse collapse","aria-labelledby":s.idusers,"data-bs-parent":"#accordionExample"},[e("div",F,[e("form",{onSubmit:w(t=>E(s),["prevent"])},[e("p",null,"Id: "+b(s.idusers),1),T,n(e("input",{id:"nomeuser",disabled:!i.value,type:"text","onUpdate:modelValue":t=>s.nomeuser=t,placeholder:"Digite o nome do usuário",required:""},null,8,j),[[_,s.nomeuser]]),L,n(e("input",{id:"emailuser",disabled:!i.value,type:"email","onUpdate:modelValue":t=>s.emailuser=t,placeholder:"Digite o e-mail do usuário",required:""},null,8,G),[[_,s.emailuser]]),H,n(e("input",{id:"addressuser",disabled:!i.value,type:"text","onUpdate:modelValue":t=>s.addressuser=t,placeholder:"Digite o endereço do usuário",required:""},null,8,J),[[_,s.addressuser]]),K,n(e("input",{id:"cepuser",disabled:!i.value,type:"number","onUpdate:modelValue":t=>s.cepuser=t,placeholder:"Digite o CEP do usuário",required:""},null,8,O),[[_,s.cepuser]]),Q,n(e("select",{disabled:!i.value,"onUpdate:modelValue":t=>s.residenciauser=t},ee,8,W),[[C,s.residenciauser]]),e("div",se,[i.value?(l(),r("button",ae,[te,u(" Salvar ")])):(l(),r("button",{key:0,onClick:y,class:"btn__edit"},[oe,u(" Editar ")])),e("button",{onClick:t=>g(s),class:"btn__delete"},[de,u(" Excluir ")],8,ie)])],40,R)])],8,N)],2))),128))])])]))}},ne=x(le,[["__scopeId","data-v-9b9546b3"]]);export{ne as default};
